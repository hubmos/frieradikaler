---
import Faq from '../components/Faq.astro'
import DataFetcher from '../components/DataFetcher';
const title = "Røsk mæ i fetta"; 

/* 
const allActivities = await getAllActivities();
const  athleteActivities =await getSumActivities(allActivities);
const barData= await prepareBarChartData(allActivities) 
let totalActivities=0;
allActivities.forEach(activity => {

		if (activity.date=== "2023") {
          
        } else
		{totalActivities+=1;}
      });
type AthleteActivity = {
  totalDistance: number;
  count: number;
  athleteName: string;
}; 
const actsToShow=totalActivities;
const lineDatas=await createChartDataset(allActivities);
const athleteActivitiesArray: AthleteActivity[] = Object.values(athleteActivities);

// Find the highest count of activities
const highestCount = Math.max(...athleteActivitiesArray.map(athlete => athlete.count));
const lowCount = Math.min(...athleteActivitiesArray.map(athlete => athlete.count));
// Filter out all athletes with the highest count
const topAthletes = athleteActivitiesArray.filter(athlete => athlete.count === highestCount);

// Extract names of top athletes
const topAthletesNames = topAthletes.map(athlete => athlete.athleteName);

// Filter out all athletes with the highest count
const bottomAthletes = athleteActivitiesArray.filter(athlete => athlete.count === lowCount);

// Extract names of top athletes
const bottomAthletesNames = bottomAthletes.map(athlete => athlete.athleteName);

// Create a string of names
let topNamesString = '';
if (topAthletesNames.length > 1) {
  // Join all names with commas and 'and' before the last name for proper grammar
  topNamesString = topAthletesNames.slice(0, -1).join(', ') + ' og ' + topAthletesNames[topAthletesNames.length - 1];
} else if (topAthletesNames.length === 1) {
  // If there's only one top athlete
  topNamesString = topAthletesNames[0];
}

let bottomNamesString = '';
if (bottomAthletesNames.length > 1) {
  // Join all names with commas and 'and' before the last name for proper grammar
  bottomNamesString = bottomAthletesNames.slice(0, -1).join(', ') + ' og ' + bottomAthletesNames[bottomAthletesNames.length - 1];
} else if (bottomAthletesNames.length === 1) {
  // If there's only one top athlete
  bottomNamesString = bottomAthletesNames[0];
} */
---
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content="{Astro.generator}" />
    <title>{title}</title>
</head>
<!-- // Inside your Astro component
<script>
  const [activities, setActivities] = useState([]);

  useEffect(() => {
    // Function to fetch activities
    const fetchActivities = async () => {
      // Fetch data from Firestore
      const newActivities = await getAllActivities();
      setActivities(newActivities);
    };

    fetchActivities();
  }, []);

  // Use 'activities' state in your component to display data
</script> -->
<body data-theme="retro">
	<div class="navbar fixed bg-opacity-50 bg-lett">
		<div class="flex-1">
		  <a class="btn btn-ghost text-xl">Muskel 2.0</a>
		</div>
		<div class="flex-none">
		  <ul class="menu menu-horizontal px-1">
			<li><a href="month">Måneden</a></li>
			<li><a href="year">Året</a></li>
			<li><a href="FAQ">FAQ</a></li>
		  </ul>
		</div>
	  </div>
	<script>
		document.querySelectorAll('.menu a').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const href = this.getAttribute('href').toLowerCase(); // Ensure lowercase for ID matching
				const targetElement = document.getElementById(href);
				if(targetElement) {
					targetElement.scrollIntoView({
						behavior: 'smooth'
					});
				}
			});
		});
	</script>
	
    <main>
        <div class='hero min-h-screen bg-[linear-gradient(180deg,rgba(236,227,202,0.5),rgba(236,227,202,1)_80%),url("/images/img.jpg")]'>
			<div class="hero-content text-center">
			  <div class="max-w-md">
				<h1 class="text-5xl font-bold">Veien te 600 treningsøkter</h1>
				<p class="py-6">E brolagt med svette slaskjævla.</p>
			  </div>
			</div>
		  </div>
        <p></p>
		<div class="max-w-screen-lg mx-auto space-x-10 content-center">
		<div class="flex flex-col w-full ">
			<div class="h-20"></div> 
			<div class="divider mx-20"></div> 
			
		  </div>
        <section id="month" class="font-bold text-center"></section>
		<div class=" h-20"></div>
		<DataFetcher client:only/>
		<div class="divider mx-20"></div> 
		<div class=" h-20"></div>

        <section id="faq" class="mx-4 text-4xl font-bold object-center justify-center text-center ">FAQ</section>
		<div class=" h-20"></div>
        <div class=""><Faq /></div>
		<div class=" h-20"></div>
		<div class=" h-20"></div>
		<div class=" h-20"></div>
		<div class=" h-20"></div>
	</div> 
    </main> 
</body>
</html>
